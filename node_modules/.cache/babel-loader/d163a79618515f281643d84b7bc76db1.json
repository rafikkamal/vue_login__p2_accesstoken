{"remainingRequest":"/var/www/html/vue/vue_login/access_token/node_modules/babel-loader/lib/index.js!/var/www/html/vue/vue_login/access_token/node_modules/eslint-loader/index.js??ref--13-0!/var/www/html/vue/vue_login/access_token/src/store.js","dependencies":[{"path":"/var/www/html/vue/vue_login/access_token/src/store.js","mtime":1570294893764},{"path":"/var/www/html/vue/vue_login/access_token/node_modules/cache-loader/dist/cjs.js","mtime":1570292714608},{"path":"/var/www/html/vue/vue_login/access_token/node_modules/babel-loader/lib/index.js","mtime":1570292714284},{"path":"/var/www/html/vue/vue_login/access_token/node_modules/eslint-loader/index.js","mtime":1570292714768}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/var/www/html/vue/vue_login/access_token/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    accessToken: null,\n    loggingIn: false\n  },\n  mutations: {\n    loginStart: function loginStart(state) {\n      return state.loggingIn = true;\n    },\n    loginStop: function loginStop(state, errorMessage) {\n      state.loggingIn = false;\n      state.loginError = errorMessage;\n    },\n    updateAccessToken: function updateAccessToken(state, accessToken) {\n      state.accessToken = accessToken;\n    }\n  },\n  actions: {\n    doLogin: function doLogin(_ref, loginData) {\n      var commit = _ref.commit;\n      commit('loginStart');\n      console.log(loginData);\n      axios.post('https://reqres.in/api/login', _objectSpread({}, loginData)).then(function (response) {\n        localStorage.setItem('accessToken', response.data.token);\n        commit('loginStop', null);\n        commit('updateAccessToken', response.data.token);\n      }).catch(function (error) {\n        commit('loginStop', error.response.data.error);\n        commit('updateAccessToken', null);\n      });\n    },\n    fetchAccessToken: function fetchAccessToken(_ref2) {\n      var commit = _ref2.commit;\n      commit('updateAccessToken', localStorage.getItem('accessToken'));\n    }\n  }\n});",{"version":3,"sources":["/var/www/html/vue/vue_login/access_token/src/store.js"],"names":["Vue","Vuex","axios","use","Store","state","accessToken","loggingIn","mutations","loginStart","loginStop","errorMessage","loginError","updateAccessToken","actions","doLogin","loginData","commit","console","log","post","then","response","localStorage","setItem","data","token","catch","error","fetchAccessToken","getItem"],"mappings":";;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAGA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE,IADR;AAELC,IAAAA,SAAS,EAAE;AAFN,GADqB;AAK5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,UAAU,EAAE,oBAAAJ,KAAK;AAAA,aAAIA,KAAK,CAACE,SAAN,GAAkB,IAAtB;AAAA,KADR;AAETG,IAAAA,SAAS,EAAE,mBAACL,KAAD,EAAQM,YAAR,EAAyB;AAClCN,MAAAA,KAAK,CAACE,SAAN,GAAkB,KAAlB;AACAF,MAAAA,KAAK,CAACO,UAAN,GAAmBD,YAAnB;AACD,KALQ;AAMTE,IAAAA,iBAAiB,EAAE,2BAACR,KAAD,EAAQC,WAAR,EAAwB;AACzCD,MAAAA,KAAK,CAACC,WAAN,GAAoBA,WAApB;AACD;AARQ,GALiB;AAe5BQ,EAAAA,OAAO,EAAE;AACPC,IAAAA,OADO,yBACaC,SADb,EACwB;AAAA,UAArBC,MAAqB,QAArBA,MAAqB;AAC7BA,MAAAA,MAAM,CAAC,YAAD,CAAN;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AAEAd,MAAAA,KAAK,CAACkB,IAAN,CAAW,6BAAX,oBACKJ,SADL,GAGCK,IAHD,CAGM,UAACC,QAAD,EAAc;AAClBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCF,QAAQ,CAACG,IAAT,CAAcC,KAAlD;AACAT,QAAAA,MAAM,CAAC,WAAD,EAAc,IAAd,CAAN;AACAA,QAAAA,MAAM,CAAC,mBAAD,EAAsBK,QAAQ,CAACG,IAAT,CAAcC,KAApC,CAAN;AACD,OAPD,EAQCC,KARD,CAQO,UAAAC,KAAK,EAAI;AACdX,QAAAA,MAAM,CAAC,WAAD,EAAcW,KAAK,CAACN,QAAN,CAAeG,IAAf,CAAoBG,KAAlC,CAAN;AACJX,QAAAA,MAAM,CAAC,mBAAD,EAAsB,IAAtB,CAAN;AACG,OAXD;AAYD,KAjBM;AAkBPY,IAAAA,gBAlBO,mCAkBsB;AAAA,UAAVZ,MAAU,SAAVA,MAAU;AAC3BA,MAAAA,MAAM,CAAC,mBAAD,EAAsBM,YAAY,CAACO,OAAb,CAAqB,aAArB,CAAtB,CAAN;AACD;AApBM;AAfmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nVue.use(Vuex)\n\n\nexport default new Vuex.Store({\n  state: {\n    accessToken: null,\n    loggingIn: false,\n  },\n  mutations: {\n    loginStart: state => state.loggingIn = true,\n    loginStop: (state, errorMessage) => {\n      state.loggingIn = false;\n      state.loginError = errorMessage;\n    },\n    updateAccessToken: (state, accessToken) => {\n      state.accessToken = accessToken;\n    }\n  },\n  actions: {\n    doLogin({ commit }, loginData) {\n      commit('loginStart');\n      console.log(loginData);\n\n      axios.post('https://reqres.in/api/login', {\n        ...loginData\n      })\n      .then((response) => {\n        localStorage.setItem('accessToken', response.data.token)\n        commit('loginStop', null)\n        commit('updateAccessToken', response.data.token)\n      })\n      .catch(error => {\n        commit('loginStop', error.response.data.error)\n    commit('updateAccessToken', null)\n      })\n    },\n    fetchAccessToken({ commit }) {\n      commit('updateAccessToken', localStorage.getItem('accessToken'));\n    }\n  }\n})"]}]}